# mysql_host:  "{{ hostvars[vm2]['ansible_default_ipv4']['address'] }}"
mysql_host: "{{ groups['db_servers'] | first }}"
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38373663373237616665376161386339363430653031363134646635623030303264666566613231
          6234666137666637343433346634656532333534363466660a366330633765663630666633383435
          37376563313539653133356331323832346234393666343535303434363566383563396532643464
          3032613463396363330a356466656665396432343931386236306464336164666263303061366434
          3938
mysql_exporter_user: prometheus
mysql_exporter_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38373663373237616665376161386339363430653031363134646635623030303264666566613231
          6234666137666637343433346634656532333534363466660a366330633765663630666633383435
          37376563313539653133356331323832346234393666343535303434363566383563396532643464
          3032613463396363330a356466656665396432343931386236306464336164666263303061366434
          3938
mysql_backup_user: backup
mysql_backup_user_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38373663373237616665376161386339363430653031363134646635623030303264666566613231
          6234666137666637343433346634656532333534363466660a366330633765663630666633383435
          37376563313539653133356331323832346234393666343535303434363566383563396532643464
          3032613463396363330a356466656665396432343931386236306464336164666263303061366434
          3938

mysql_replication_user: replication
mysql_replication_user_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38373663373237616665376161386339363430653031363134646635623030303264666566613231
          6234666137666637343433346634656532333534363466660a366330633765663630666633383435
          37376563313539653133356331323832346234393666343535303434363566383563396532643464
          3032613463396363330a356466656665396432343931386236306464336164666263303061366434
          3938

grafana_username: kagu22
grafana_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38373663373237616665376161386339363430653031363134646635623030303264666566613231
          6234666137666637343433346634656532333534363466660a366330633765663630666633383435
          37376563313539653133356331323832346234393666343535303434363566383563396532643464
          3032613463396363330a356466656665396432343931386236306464336164666263303061366434
          3938

dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64396131346162363565333135353736376463306133663736636336653939656665323030386534
          3361623437376333313439663064336261353361353665390a316232306436653739326337653461
          35663534623837633838656361333631366539646362653663656538333934333765393731303736
          3932363162366230620a333936333066666565616432343565376632373131313166313866663937
          30623661353461386430373033353634623335333437383563373966303966386633633066616464
          6235623664633132383235326135353639666237373735623964

dns_update_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64613031663164316666313239326161386139366463626665613136663739383962613765393535
          6365396466376463373937653332323561626130376430620a653136323137303161323266333364
          65346134383236653266343737366664343235653233343162393166646138343762363733323038
          3437363036306164370a323735343939353738623463613862623962383863643334366162306337
          62643965336662383161363466336166303235383130646432643736323839316333313563316362
          6133373333623639666565313732306132653431356234643766

ansible_host: 193.40.156.67

node_id: "{{ inventory_hostname.split('-')[-1] | int }}"

mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"

grafana_port: 3001
agama_port: 8001
prometheus_port: 9090

agama_base_port: 8000  
agama_container_count: 2  # per container 

dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9

docker_network: 172.17.0.0/16

local_network:
  - 192.168.42.0/23
localhost: 
  - 127.0.0.0/8

domain_name: kaguu.rk
domain: kaguu
reversed_domain: 168.192.in-addr.arpa

vm1: kagu22-1
vm2: kagu22-2
vm3: kagu22-3

backup_server_ip: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90  

localhost_address: 127.0.0.1

dns_a_records:
  backup: "{{ backup_server_ip }}"

dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  lb-1: "{{ groups['haproxy'][0] }}"
  lb-2: "{{ groups['haproxy'][1] }}"
  mysql-1: "{{ groups['db_servers'][0] }}"
  mysql-2: "{{ groups['db_servers'][1] }}"
  ns-1: "{{ groups['dns_servers'][0] }}"
  ns-2: "{{ groups['dns_servers'][1] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  www-1: "{{ groups['web_servers'][0] }}"
  www-2: "{{ groups['web_servers'][1] }}"
